PAPI = -I/${PAPI_DIR}/include -L/${PAPI_DIR}/lib -lpapi
CFLAGS = -lm -march=znver2

res_ge1 = results/ge1.txt
res_ge2 = results/ge2.txt
res_ge3 = results/ge3.txt
res_ge4 = results/ge4.txt
res_ge5 = results/ge5.txt
res_ge6 = results/ge6.txt
res_ge7 = results/ge7.txt

compile_all:
	gcc ge1.c -o ge1 $(CFLAGS) $(PAPI)
	gcc ge2.c -o ge2 $(CFLAGS) $(PAPI)
	gcc ge3.c -o ge3 $(CFLAGS) $(PAPI)
	gcc ge4.c -o ge4 $(CFLAGS) $(PAPI)
	gcc ge5.c -o ge5 $(CFLAGS) $(PAPI)
	gcc ge6.c -o ge6 $(CFLAGS) $(PAPI)
	gcc ge7.c -o ge7 -mavx $(CFLAGS) $(PAPI)

run_ge1:
	echo "100" >> $(res_ge1)
	./ge1 100 1 >> $(res_ge1)
	./ge1 100 2 >> $(res_ge1)
	echo "300" >> $(res_ge1)
	./ge1 300 1 >> $(res_ge1)
	./ge1 300 2 >> $(res_ge1)
	echo "500" >> $(res_ge1)
	./ge1 500 1 >> $(res_ge1)
	./ge1 500 2 >> $(res_ge1)
	echo "700" >> $(res_ge1)
	./ge1 700 1 >> $(res_ge1)
	./ge1 700 2 >> $(res_ge1)
	echo "900" >> $(res_ge1)
	./ge1 900 1 >> $(res_ge1)
	./ge1 900 2 >> $(res_ge1)
	echo "1100" >> $(res_ge1)
	./ge1 1100 1 >> $(res_ge1)
	./ge1 1100 2 >> $(res_ge1)
	echo "1300" >> $(res_ge1)
	./ge1 1300 1 >> $(res_ge1)
	./ge1 1300 2 >> $(res_ge1)
	echo "1500" >> $(res_ge1)
	./ge1 1500 1 >> $(res_ge1)
	./ge1 1500 2 >> $(res_ge1)
	echo "1700" >> $(res_ge1)
	./ge1 1700 1 >> $(res_ge1)
	./ge1 1700 2 >> $(res_ge1)
	echo "1900" >> $(res_ge1)
	./ge1 1900 1 >> $(res_ge1)
	./ge1 1900 2 >> $(res_ge1)
	echo "2100" >> $(res_ge1)
	./ge1 2100 1 >> $(res_ge1)
	./ge1 2100 2 >> $(res_ge1)

run_ge2:
	echo "100" >> $(res_ge2)
	./ge2 100 1 >> $(res_ge2)
	./ge2 100 2 >> $(res_ge2)
	echo "300" >> $(res_ge2)
	./ge2 300 1 >> $(res_ge2)
	./ge2 300 2 >> $(res_ge2)
	echo "500" >> $(res_ge2)
	./ge2 500 1 >> $(res_ge2)
	./ge2 500 2 >> $(res_ge2)
	echo "700" >> $(res_ge2)
	./ge2 700 1 >> $(res_ge2)
	./ge2 700 2 >> $(res_ge2)
	echo "900" >> $(res_ge2)
	./ge2 900 1 >> $(res_ge2)
	./ge2 900 2 >> $(res_ge2)
	echo "1100" >> $(res_ge2)
	./ge2 1100 1 >> $(res_ge2)
	./ge2 1100 2 >> $(res_ge2)
	echo "1300" >> $(res_ge2)
	./ge2 1300 1 >> $(res_ge2)
	./ge2 1300 2 >> $(res_ge2)
	echo "1500" >> $(res_ge2)
	./ge2 1500 1 >> $(res_ge2)
	./ge2 1500 2 >> $(res_ge2)
	echo "1700" >> $(res_ge2)
	./ge2 1700 1 >> $(res_ge2)
	./ge2 1700 2 >> $(res_ge2)
	echo "1900" >> $(res_ge2)
	./ge2 1900 1 >> $(res_ge2)
	./ge2 1900 2 >> $(res_ge2)
	echo "2100" >> $(res_ge2)
	./ge2 2100 1 >> $(res_ge2)
	./ge2 2100 2 >> $(res_ge2)

run_ge3:
	echo "100" >> $(res_ge3)
	./ge3 100 1 >> $(res_ge3)
	./ge3 100 2 >> $(res_ge3)
	echo "300" >> $(res_ge3)
	./ge3 300 1 >> $(res_ge3)
	./ge3 300 2 >> $(res_ge3)
	echo "500" >> $(res_ge3)
	./ge3 500 1 >> $(res_ge3)
	./ge3 500 2 >> $(res_ge3)
	echo "700" >> $(res_ge3)
	./ge3 700 1 >> $(res_ge3)
	./ge3 700 2 >> $(res_ge3)
	echo "900" >> $(res_ge3)
	./ge3 900 1 >> $(res_ge3)
	./ge3 900 2 >> $(res_ge3)
	echo "1100" >> $(res_ge3)
	./ge3 1100 1 >> $(res_ge3)
	./ge3 1100 2 >> $(res_ge3)
	echo "1300" >> $(res_ge3)
	./ge3 1300 1 >> $(res_ge3)
	./ge3 1300 2 >> $(res_ge3)
	echo "1500" >> $(res_ge3)
	./ge3 1500 1 >> $(res_ge3)
	./ge3 1500 2 >> $(res_ge3)
	echo "1700" >> $(res_ge3)
	./ge3 1700 1 >> $(res_ge3)
	./ge3 1700 2 >> $(res_ge3)
	echo "1900" >> $(res_ge3)
	./ge3 1900 1 >> $(res_ge3)
	./ge3 1900 2 >> $(res_ge3)
	echo "2100" >> $(res_ge3)
	./ge3 2100 1 >> $(res_ge3)
	./ge3 2100 2 >> $(res_ge3)

run_ge4:
	echo "100" >> $(res_ge4)
	./ge4 100 1 >> $(res_ge4)
	./ge4 100 2 >> $(res_ge4)
	echo "300" >> $(res_ge4)
	./ge4 300 1 >> $(res_ge4)
	./ge4 300 2 >> $(res_ge4)
	echo "500" >> $(res_ge4)
	./ge4 500 1 >> $(res_ge4)
	./ge4 500 2 >> $(res_ge4)
	echo "700" >> $(res_ge4)
	./ge4 700 1 >> $(res_ge4)
	./ge4 700 2 >> $(res_ge4)
	echo "900" >> $(res_ge4)
	./ge4 900 1 >> $(res_ge4)
	./ge4 900 2 >> $(res_ge4)
	echo "1100" >> $(res_ge4)
	./ge4 1100 1 >> $(res_ge4)
	./ge4 1100 2 >> $(res_ge4)
	echo "1300" >> $(res_ge4)
	./ge4 1300 1 >> $(res_ge4)
	./ge4 1300 2 >> $(res_ge4)
	echo "1500" >> $(res_ge4)
	./ge4 1500 1 >> $(res_ge4)
	./ge4 1500 2 >> $(res_ge4)
	echo "1700" >> $(res_ge4)
	./ge4 1700 1 >> $(res_ge4)
	./ge4 1700 2 >> $(res_ge4)
	echo "1900" >> $(res_ge4)
	./ge4 1900 1 >> $(res_ge4)
	./ge4 1900 2 >> $(res_ge4)
	echo "2100" >> $(res_ge4)
	./ge4 2100 1 >> $(res_ge4)
	./ge4 2100 2 >> $(res_ge4)

run_ge5:
	echo "100" >> $(res_ge5)
	./ge5 100 1 >> $(res_ge5)
	./ge5 100 2 >> $(res_ge5)
	echo "300" >> $(res_ge5)
	./ge5 300 1 >> $(res_ge5)
	./ge5 300 2 >> $(res_ge5)
	echo "500" >> $(res_ge5)
	./ge5 500 1 >> $(res_ge5)
	./ge5 500 2 >> $(res_ge5)
	echo "700" >> $(res_ge5)
	./ge5 700 1 >> $(res_ge5)
	./ge5 700 2 >> $(res_ge5)
	echo "900" >> $(res_ge5)
	./ge5 900 1 >> $(res_ge5)
	./ge5 900 2 >> $(res_ge5)
	echo "1100" >> $(res_ge5)
	./ge5 1100 1 >> $(res_ge5)
	./ge5 1100 2 >> $(res_ge5)
	echo "1300" >> $(res_ge5)
	./ge5 1300 1 >> $(res_ge5)
	./ge5 1300 2 >> $(res_ge5)
	echo "1500" >> $(res_ge5)
	./ge5 1500 1 >> $(res_ge5)
	./ge5 1500 2 >> $(res_ge5)
	echo "1700" >> $(res_ge5)
	./ge5 1700 1 >> $(res_ge5)
	./ge5 1700 2 >> $(res_ge5)
	echo "1900" >> $(res_ge5)
	./ge5 1900 1 >> $(res_ge5)
	./ge5 1900 2 >> $(res_ge5)
	echo "2100" >> $(res_ge5)
	./ge5 2100 1 >> $(res_ge5)
	./ge5 2100 2 >> $(res_ge5)

run_ge6:
	echo "100" >> $(res_ge6)
	./ge6 100 1 >> $(res_ge6)
	./ge6 100 2 >> $(res_ge6)
	echo "300" >> $(res_ge6)
	./ge6 300 1 >> $(res_ge6)
	./ge6 300 2 >> $(res_ge6)
	echo "500" >> $(res_ge6)
	./ge6 500 1 >> $(res_ge6)
	./ge6 500 2 >> $(res_ge6)
	echo "700" >> $(res_ge6)
	./ge6 700 1 >> $(res_ge6)
	./ge6 700 2 >> $(res_ge6)
	echo "900" >> $(res_ge6)
	./ge6 900 1 >> $(res_ge6)
	./ge6 900 2 >> $(res_ge6)
	echo "1100" >> $(res_ge6)
	./ge6 1100 1 >> $(res_ge6)
	./ge6 1100 2 >> $(res_ge6)
	echo "1300" >> $(res_ge6)
	./ge6 1300 1 >> $(res_ge6)
	./ge6 1300 2 >> $(res_ge6)
	echo "1500" >> $(res_ge6)
	./ge6 1500 1 >> $(res_ge6)
	./ge6 1500 2 >> $(res_ge6)
	echo "1700" >> $(res_ge6)
	./ge6 1700 1 >> $(res_ge6)
	./ge6 1700 2 >> $(res_ge6)
	echo "1900" >> $(res_ge6)
	./ge6 1900 1 >> $(res_ge6)
	./ge6 1900 2 >> $(res_ge6)
	echo "2100" >> $(res_ge6)
	./ge6 2100 1 >> $(res_ge6)
	./ge6 2100 2 >> $(res_ge6)

run_ge7:
	echo "100" >> $(res_ge7)
	./ge7 100 1 >> $(res_ge7)
	./ge7 100 2 >> $(res_ge7)
	echo "300" >> $(res_ge7)
	./ge7 300 1 >> $(res_ge7)
	./ge7 300 2 >> $(res_ge7)
	echo "500" >> $(res_ge7)
	./ge7 500 1 >> $(res_ge7)
	./ge7 500 2 >> $(res_ge7)
	echo "700" >> $(res_ge7)
	./ge7 700 1 >> $(res_ge7)
	./ge7 700 2 >> $(res_ge7)
	echo "900" >> $(res_ge7)
	./ge7 900 1 >> $(res_ge7)
	./ge7 900 2 >> $(res_ge7)
	echo "1100" >> $(res_ge7)
	./ge7 1100 1 >> $(res_ge7)
	./ge7 1100 2 >> $(res_ge7)
	echo "1300" >> $(res_ge7)
	./ge7 1300 1 >> $(res_ge7)
	./ge7 1300 2 >> $(res_ge7)
	echo "1500" >> $(res_ge7)
	./ge7 1500 1 >> $(res_ge7)
	./ge7 1500 2 >> $(res_ge7)
	echo "1700" >> $(res_ge7)
	./ge7 1700 1 >> $(res_ge7)
	./ge7 1700 2 >> $(res_ge7)
	echo "1900" >> $(res_ge7)
	./ge7 1900 1 >> $(res_ge7)
	./ge7 1900 2 >> $(res_ge7)
	echo "2100" >> $(res_ge7)
	./ge7 2100 1 >> $(res_ge7)
	./ge7 2100 2 >> $(res_ge7)

run_all: run_ge1 run_ge2 run_ge3 run_ge4 run_ge5 run_ge6 run_ge7

clean:
	rm -f ge1
	rm -f ge2
	rm -f ge3
	rm -f ge4
	rm -f ge5
	rm -f ge6
	rm -f ge7

del_results:
	rm -r results/*